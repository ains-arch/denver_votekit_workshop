from itertools import product
import json
from pathlib import Path


if __name__ == "__main__":
    #wc_pairs = [(1.0, 0.0), (0.95, 0.05), (0.9, 0.1), (0.85, 0.15),(0.8, 0.2),(0.75, 0.25), (0.7, 0.3),(0.65, 0.35),(0.6, 0.4), (0.55, 0.45),  (0.5, 0.5) ]
    wc_pairs = [(0.58,0.42),(0.79,0.21),(0.24,0.76),(0.56,0.44),(0.67,0.33),(0.59,0.41),
    (0.74,0.26),(0.76,0.24),(0.72,0.28),(0.85,0.15),(0.56,0.44),(0.76,0.24),(0.57,0.43),
    (0.25,0.75),(0.76,0.24),(0.56,0.44),(0.39,0.61),(0.74,0.26),(0.83,0.17),(0.73,0.27),
    (0.79,0.21),(0.67,0.33),(0.72,0.28),(0.72,0.28),(0.56,0.44),(0.83,0.17),(0.24,0.76),
    (0.68,0.32),(0.57,0.43),(0.69,0.31),(0.50,0.50),(0.82,0.18),(0.73,0.27),(0.76,0.24),
    (0.75,0.25),(0.83,0.17),(0.73,0.27),(0.24,0.76),(0.39,0.61),(0.57,0.43),(0.79,0.21),
    (0.74,0.26),(0.76,0.24),(0.47,0.53),(0.57,0.43),(0.72,0.28),(0.73,0.27),(0.69,0.31),
    (0.75,0.25),(0.49,0.51),(0.24,0.76),(0.59,0.41),(0.72,0.28),(0.75,0.25),(0.85,0.15),
    (0.58,0.42),(0.25,0.75),(0.74,0.26),(0.70,0.30),(0.57,0.43),(0.79,0.21),(0.38,0.62),
    (0.62,0.38),(0.82,0.18),(0.82,0.18),(0.77,0.23),(0.56,0.44),(0.55,0.45),(0.25,0.75),
    (0.73,0.27),(0.73,0.27),(0.55,0.45),(0.67,0.33),(0.86,0.14),(0.79,0.21),(0.76,0.24),
    (0.63,0.37),(0.56,0.44),(0.78,0.22),(0.52,0.48),(0.24,0.76),(0.78,0.22),(0.60,0.40),
    (0.55,0.45),(0.76,0.24),(0.73,0.27),(0.75,0.25),(0.79,0.21),(0.24,0.76),(0.73,0.27),
    (0.75,0.25),(0.59,0.41),(0.72,0.28),(0.34,0.66),(0.50,0.50),(0.71,0.29),(0.79,0.21),
    (0.84,0.16),(0.80,0.20),(0.25,0.75),(0.73,0.27),(0.59,0.41),(0.82,0.18),(0.55,0.45),
    (0.76,0.24),(0.34,0.66),(0.77,0.23),(0.72,0.28),(0.64,0.36),(0.82,0.18),(0.59,0.41),(0.72,0.28),(0.58,0.42),(0.72,0.28),(0.86,0.14),(0.24,0.76),(0.62,0.38),(0.82,0.18),(0.58,0.42),(0.61,0.39),(0.75,0.25),(0.24,0.76),(0.69,0.31),(0.59,0.41),(0.56,0.44),(0.73,0.27),(0.64,0.36),(0.74,0.26),(0.73,0.27),(0.53,0.47),(0.81,0.19),(0.84,0.16),(0.57,0.43),(0.66,0.34),(0.25,0.75),(0.56,0.44),(0.80,0.20),(0.80,0.20),(0.73,0.27),(0.69,0.31),(0.74,0.26),(0.86,0.14),(0.35,0.65),(0.24,0.76),(0.73,0.27),(0.56,0.44),(0.57,0.43),(0.83,0.17),(0.71,0.29),(0.74,0.26),(0.69,0.31),(0.34,0.66),(0.81,0.19),(0.80,0.20),(0.24,0.76),(0.73,0.27),(0.72,0.28),(0.74,0.26),(0.57,0.43),(0.58,0.42),(0.71,0.29),(0.56,0.44),(0.84,0.16),(0.58,0.42),(0.80,0.20),(0.57,0.43),(0.24,0.76),(0.72,0.28),(0.76,0.24),(0.83,0.17),(0.70,0.30),(0.44,0.56),(0.55,0.45),(0.76,0.24),(0.77,0.23),(0.73,0.27),(0.84,0.16),(0.65,0.35),(0.24,0.76),(0.66,0.34),(0.79,0.21),(0.39,0.61),(0.67,0.33),(0.58,0.42),(0.74,0.26),(0.74,0.26),(0.76,0.24),(0.73,0.27),(0.51,0.49),(0.57,0.43),(0.75,0.25),(0.79,0.21),(0.80,0.20),(0.24,0.76),(0.74,0.26),(0.68,0.32),(0.54,0.46),(0.73,0.27),(0.74,0.26),(0.73,0.27),(0.25,0.75),(0.76,0.24),(0.57,0.43),(0.79,0.21),(0.54,0.46),(0.63,0.37),(0.37,0.63),(0.81,0.19),(0.81,0.19),(0.24,0.76),(0.63,0.37),(0.57,0.43),(0.81,0.19),(0.69,0.31),(0.73,0.27),(0.43,0.57),(0.74,0.26),(0.73,0.27),(0.79,0.21),(0.71,0.29)]
    
    #coh_dict = { (0.9, 0.1, 0.9, 0.1),(0.8, 0.2, 0.8, 0.2), (0.7, 0.3, 0.7, 0.3), (0.6, 0.4, 0.6, 0.4), (0.5, 0.5, 0.5, 0.5),(0.4, 0.6, 0.4, 0.6), }
    coh_dict= {(0.75,0.25,0.3,0.7)}
    
    for wc_pair, coh_tup in product(wc_pairs, coh_dict):
        output_settings = dict(
            bloc_voter_prop={"W": wc_pair[0], "C": wc_pair[1]},
            cohesion_parameters={
                "W": {"W": coh_tup[0], "C": coh_tup[1]},
                "C": {"W": coh_tup[2], "C": coh_tup[3]},
            },
            alphas={"W": {"W": 1, "C": 0.5}, "C": {"W": 2, "C": 0.5}},
            slate_to_candidates={"W": ["W1", "W2","W3"], "C": ["C1", "C2","C3"]},
        )

        output_dir = Path("./vk_run_settings")
        output_dir.mkdir(parents=True, exist_ok=True)
        output_path = "." / Path(
            f"vk_run_settings/wc_({wc_pair[0]}_{wc_pair[1]})_cohesion_({coh_tup[0]}_{coh_tup[1]}_{coh_tup[2]}_{coh_tup[3]})".replace(
                ".", "p"
            )
            + ".json"
        )

        with open(output_path, "w") as f:
            json.dump(output_settings, f, indent=4)
